{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\manee\\\\Downloads\\\\Final_DS_Project (1)\\\\Final_DS_Project\\\\frontend\\\\src\\\\components\\\\MobilePay\\\\MobilePayment.js\";\nimport React, { Component } from 'react';\nimport '../../styles/PhoneBill.css';\n\nclass Otp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleMobileNo = event => {\n      this.setState({\n        mobile: event.target.value\n      });\n    };\n\n    this.handleAmount = event => {\n      this.setState({\n        amount: event.target.value\n      });\n    };\n\n    this.handlePin = event => {\n      this.setState({\n        pin: event.target.value\n      });\n    };\n\n    this.postData2 = async e => {\n      e.preventDefault();\n      const {\n        mobile,\n        amount,\n        pin\n      } = this.state;\n      console.log(\"Form Pin : \" + pin);\n      console.log(\"CORRECT OTP:\" + this.state.result[\"OTP\"]);\n\n      if (pin == parseInt(this.state.result[\"OTP\"])) {\n        const res2 = await fetch(\"http://localhost:5100/api/mobilepay/sendData\", {\n          // const res2 = await fetch(\"/sendData\", {\n          method: \"post\",\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          },\n          body: JSON.stringify({\n            phone: mobile,\n            amount: amount,\n            pin: pin\n          })\n        });\n        const data = await res2.json();\n        console.log(\"Message : \" + data[\"Message\"]);\n\n        if (res2.status === 404 || !data) {\n          window.alert(\"Data Not added\");\n          console.log(\"Data Not added\");\n        } else {\n          window.alert(\"Data added\");\n          console.log(\"Data added\");\n          window.alert(data[\"Message\"]);\n        }\n      } else {\n        window.alert(\"Wrong OTP\");\n      }\n    };\n\n    this.postData = async e => {\n      e.preventDefault();\n      const {\n        mobile,\n        amount\n      } = this.state;\n      const res = await fetch(\"http://localhost:5100/api/mobilepay/\", {\n        method: \"post\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          phone: mobile,\n          amount: amount,\n          pin: amount\n        })\n      });\n      const res2 = await fetch(\"http://localhost:5100/api/mobilepay/sendOTP\", {\n        method: \"post\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          phone: mobile,\n          amount: amount,\n          pin: amount\n        })\n      });\n      const data = await res.json();\n      this.state.result = await res2.json();\n\n      if (res.status === 404 || !data) {\n        window.alert(\"Data Not added\");\n        console.log(\"Data Not added\");\n      } else {\n        window.alert(\"Data added\");\n        console.log(\"Data added\");\n        console.log(this.state.result[\"OTP\"]);\n      }\n    };\n\n    this.state = {\n      pin: \" \",\n      mobile: \" \",\n      amount: '990',\n      result: \"\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mpay-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      method: \"POST\",\n      className: \"billCard mpay-col-2\",\n      onSubmit: this.postData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"formTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }, \"Mobile Pay\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 29\n      }\n    }, \"Enter Mobile Number\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"tel\",\n      id: \"mobile\",\n      value: this.state.mobile,\n      name: \"mobile\",\n      required: true,\n      placeholder: \"enter number\",\n      onChange: this.handleMobileNo,\n      size: \"30\",\n      minLength: \"12\",\n      maxLength: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"billbutton next\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 29\n      }\n    }, \"Get OTP\")))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      method: \"POST\",\n      className: \"billCard\",\n      onSubmit: this.postData2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"formTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, \"Enter OTP\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 29\n      }\n    }, \"Enter Mobile Number\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"tel\",\n      id: \"mobile\",\n      value: this.state.mobile,\n      name: \"mobile\",\n      required: true,\n      placeholder: \"enter number\",\n      size: \"30\",\n      minLength: \"12\",\n      maxLength: \"12\",\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 29\n      }\n    }, \"Charging Amount\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"amount\",\n      name: \"amount\",\n      value: this.state.amount,\n      required: true,\n      placeholder: \"enter amount\",\n      onChange: this.handleAmount,\n      size: \"30\",\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 29\n      }\n    }, \"Pin Number\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"pin\",\n      name: \"pin\",\n      value: this.state.pin,\n      required: true,\n      placeholder: \"enter pin number\",\n      size: \"30\",\n      onChange: this.handlePin,\n      minLength: \"6\",\n      maxLength: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"billbutton otp\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    }, \"Pay Bill\")))));\n  }\n\n}\n\nexport default Otp;","map":{"version":3,"sources":["C:/Users/manee/Downloads/Final_DS_Project (1)/Final_DS_Project/frontend/src/components/MobilePay/MobilePayment.js"],"names":["React","Component","Otp","constructor","props","handleMobileNo","event","setState","mobile","target","value","handleAmount","amount","handlePin","pin","postData2","e","preventDefault","state","console","log","result","parseInt","res2","fetch","method","headers","body","JSON","stringify","phone","data","json","status","window","alert","postData","res","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport '../../styles/PhoneBill.css';\r\n\r\nclass Otp extends Component{\r\n    \r\n    constructor(props) {\r\n        super(props)\r\n         \r\n        this.state = {\r\n           pin: \" \",\r\n           mobile : \" \",\r\n           amount: '990',\r\n           result: \"\",\r\n        }\r\n    }\r\n    handleMobileNo = (event) => {\r\n        this.setState({\r\n            mobile: event.target.value\r\n        })\r\n    }\r\n\r\n    handleAmount = (event) => {\r\n        this.setState({\r\n            amount: event.target.value\r\n        })\r\n    }\r\n\r\n    handlePin = (event) => {\r\n        this.setState({\r\n            pin: event.target.value\r\n        })\r\n    }\r\n\r\n    postData2 = async (e) => {\r\n        e.preventDefault();\r\n        const {mobile, amount, pin} = this.state;\r\n\r\n        console.log(\"Form Pin : \"+ pin);\r\n        console.log(\"CORRECT OTP:\" + this.state.result[\"OTP\"]);\r\n\r\n        if(pin == parseInt(this.state.result[\"OTP\"])){\r\n            const res2 = await fetch(\"http://localhost:5100/api/mobilepay/sendData\", {\r\n            // const res2 = await fetch(\"/sendData\", {\r\n                method: \"post\",\r\n                headers : { \r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    phone : mobile,\r\n                    amount : amount,\r\n                    pin : pin,\r\n                })\r\n            })\r\n\r\n            const data = await res2.json();\r\n            console.log(\"Message : \"+data[\"Message\"]);\r\n            if(res2.status === 404 || !data){\r\n                window.alert(\"Data Not added\");\r\n                console.log(\"Data Not added\");\r\n            }else{\r\n                window.alert(\"Data added\");\r\n                console.log(\"Data added\");\r\n                window.alert(data[\"Message\"]);\r\n            }\r\n        }else{\r\n            window.alert(\"Wrong OTP\");\r\n        }    \r\n    }\r\n\r\n    postData = async (e) => {\r\n        e.preventDefault();\r\n        const {mobile, amount} = this.state;\r\n\r\n        const res = await fetch(\"http://localhost:5100/api/mobilepay/\", {\r\n            method: \"post\",\r\n            headers : { \r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                phone : mobile,\r\n                amount : amount,\r\n                pin : amount,\r\n            })\r\n        })\r\n\r\n        const res2 = await fetch(\"http://localhost:5100/api/mobilepay/sendOTP\", {\r\n            method: \"post\",\r\n            headers : { \r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                phone : mobile,\r\n                amount : amount,\r\n                pin : amount,\r\n            })\r\n        })\r\n\r\n        const data = await res.json();\r\n        this.state.result = await res2.json();\r\n        if(res.status === 404 || !data){\r\n            window.alert(\"Data Not added\");\r\n            console.log(\"Data Not added\");\r\n        }else{\r\n            window.alert(\"Data added\");\r\n            console.log(\"Data added\");\r\n            console.log(this.state.result[\"OTP\"]);\r\n        }\r\n    }\r\n\r\n\r\n    render() {    \r\n        return (\r\n            <div className='mpay-row'>\r\n                <div>\r\n                    <form method='POST' className='billCard mpay-col-2' onSubmit={this.postData}>\r\n                        <h2 className='formTitle'>Mobile Pay</h2>\r\n                        <div>\r\n                            <label className='label'>Enter Mobile Number</label>\r\n                            <input type='tel' id='mobile' value={this.state.mobile} name='mobile' required placeholder='enter number' onChange={this.handleMobileNo} size='30' minLength='12' maxLength='12' />\r\n                        </div>\r\n                        <div>\r\n                            <label />\r\n                            <button className='billbutton next' type='submit' >Get OTP</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div>\r\n                    <form method='POST'  className='billCard' onSubmit={this.postData2}>\r\n                        <h2 className='formTitle'>Enter OTP</h2>\r\n                        <div>\r\n                            <label className='label'>Enter Mobile Number</label>\r\n                            <input type='tel' id='mobile' value={this.state.mobile} name='mobile' required placeholder='enter number' size='30' minLength='12' maxLength='12' readOnly />\r\n                        </div>\r\n                        <div>\r\n                            <label>Charging Amount</label>\r\n                            <input type='text' id='amount' name='amount' value={this.state.amount} required placeholder='enter amount' onChange={this.handleAmount} size='30' readOnly />\r\n                        </div>\r\n                        <div>\r\n                            <label>Pin Number</label>\r\n                            <input type='text' id='pin' name='pin' value={this.state.pin} required placeholder='enter pin number' size='30' onChange={this.handlePin} minLength='6' maxLength='7' />\r\n                        </div>\r\n                        <div>\r\n                            <label />\r\n                            <button className='billbutton otp' type='submit'>Pay Bill</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Otp;\r\n"]},"metadata":{},"sourceType":"module"}